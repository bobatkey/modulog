(jbuild_version 1)

(library
 ((name modulog)
  (public_name modulog)
  (libraries (modules datalog fmt rresult))
  (flags (:standard -w -49+44 -safe-string))))
; (menhir
;  ((merge_into parser)
;   (modules (datalog_grammar modules_grammar))))

(rule
 ((targets (parser.ml parser.mli))
  (deps    (datalog_grammar.mly))
  (action  (chdir ${ROOT} (run ${bin:menhir} --base modulog/parser ${<} ${lib:modules:modules_grammar.mly})))))

(ocamllex
 (lexer))
